\chapter{Test sperimentali e valutazione}
\label{capitolo6}
\thispagestyle{empty}



%\noindent Si mostra il progetto dal punto di vista sperimentale, le cose materialmente realizzate. In questa sezione si mostrano le attivit\`a sperimentali svolte, si illustra il funzionamento del sistema (a grandi linee) e si spiegano i risultati ottenuti con la loro valutazione critica. Bisogna introdurre dati sulla complessit\`a degli algoritmi e valutare l'efficienza del sistema.

All'interno di questo capitolo verranno illustrati i test sperimentali con le relative valutazioni.
Tali operazioni sono stati svolti per due topic distinti:
\begin{itemize}
\item \textit{Elezioni Regionali Sicilia 2017}
\item \textit{Biotestamento}
\end{itemize}
Prima di illustrare i risultati ottenuti, verranno presentate le motivazioni della scelta di questi due topic differenti tra loro.
Sono stati scelti perché identificano differenti contesti nel dettaglio:
\begin{itemize}
\item Politico
\item Sociale
\end{itemize}
Questa differenza è molto importante perché dimostra come la polarizzazione possa essere utilizzata in contesti completamente differenti tra loro. Infatti questo strumento consente di avere una visione generale sulla diffusione di opinioni e l'eventuale formazione di \textit{Echo-Chambers}. 
Le motivazioni che mi hanno spinto a scegliere questi due contesti così differenti tra loro è stato dettato dalla necessità di cercare degli argomenti, che consentissero di avere una forte divergenza di opinione.
Nel contesto politico le divergenze di opinioni vengono generate già dagli esponenti dei diversi partiti politici, quindi utilizzando questi dibattiti è possibile definire due gruppi distinti di opinione. Un gruppo che aderisce ad un'idea espressa da un partito piuttosto che da un'altra. In conclusione studiare ed analizzare un topic in un contesto del genere risulta essere molto interessante.
Per quanto riguarda il contesto sociale, questo è molto interessante, perchè gli argomenti che appartengono a questa categoria hanno presa su un campione maggiore di utenti, perché molto spesso collegate a problematiche religiose, politiche, etiche ed economiche. La scelta di questo contesto consente di poter verificare quanto un topic, sia appetibile e polarizzato. Nel dettaglio è interessante notare come utilizzare uno strumento come la polarizzazione possa essere usato non solo per misurare quanto un argomento divida due gruppi di utenti, ma anche per fare indagini di mercato, statistiche da poter utilizzare in futuro.
\newpage
\section{Elezioni Regionali Sicilia 2017}
%Motivazione scelta topic
%Come sono stati fatti i test
%Gli hashtag, Il grafo, i risultati
%Predizione
%Valutazione dei risultati
Le elezioni regionali in Sicilia sono state svolte il 5 Novembre del 2017, è stato scelto come topic di studio per calcolare la polarizzazione all'interno di un contesto politico. Le suddette elezione hanno mostrato un cambiamento di trend, poiché vinte dalla coalizione del centro-destra a discapito della coalizione del centro-sinistra che era il partito in carica. I risultati di questa elezione hanno mostrato che gli antagonisti principali della coalizione del centro-destra fosse il Movimento 5 stelle.
I risultati ottenuti attraverso queste elezioni rispecchiano ampiamente il panorama politico dello stato italiano, poiché da molti anni non è più presente un'unica linea guida, ma ci sono molteplici visioni espresse, che possono generare molteplici conflitti e quindi una forte polarizzazione delle opinioni. Nel dettaglio è interessante notare come in Italia la presenza dei dibattiti innescati da parte dei diversi esponenti della classe politica abbia ripercussioni sugli utenti appartenenti ad una rete sociale.
In questo periodo storico vige un certa sfiducia da parte degli elettori verso la classe politica, infatti nelle elezioni regionali in Sicilia la percentuale degli astenuti è stata di $\simeq 54\%$ a discapito del $\simeq 53\%$ ottenuto nelle precedenti elezioni nel 2012. Queste informazioni rendono poco accurate le predizioni fatti dai diversi enti per calcolare gli \textit{exit pool}.
Dal punto di vista della polarizzazione le differenti correnti politiche generano conflitti, divergenze o anche convergenze di opinioni tra gli auditori; quindi fare uno studio attraverso questi dati raccolti può mostrare quanto la controversia attiri gli elettori.
La classe politica sta sempre più utilizzando i social media per poter esprimere le loro idee, anche per catturare l'attenzione di diversi elettori, per rendere accessibili a più utenti le proprie visioni politiche. 
Proprio per questo motivo si è deciso di utilizzare le elezioni regionali in Sicilia come caso di studio all'interno del social media di \textit{Twitter}, sempre più utilizzato dalla classe politica.

I test sono stati effettuati dopo una raccolta di dati effettuati attraverso una ricerca per \textit{hashtag} (vedi sezione \ref{raccolta}). La lista degli hashtag utilizzati è la seguente:
\begin{itemize}
\item \textbf{\#elezionisicilia2017}
\item \textbf{\#EleSicilia}
\item \textbf{\#elezionisicilia}
\item \textbf{\#regionalisicilia2017}
\item \textbf{\#regionalisicilia}
\end{itemize}
Per ognuno di questi hashtag sono stati collezionati i tweet pubblicati dai diversi utenti del social media durante il periodo dal 01/09/2017 al 31/12/2017.
Il motivo della scelta di un periodo del genere è dettata dalla necessita di analizzare la polarizzazione del grafo nel tempo. Il periodo utilizzato per la raccolta dei dati è stato scelto per analizzare il comportamento della polarizzazione in un periodo di tempo precedente ed antecedente all'evento in questione. In questo modo è possibile effettuare considerazioni sul comportamento temporale del topic.
La scelta degli hashtag non è puramente casuale, infatti per garantire una imparzialità nella raccolta dei tweet sono state fatte delle ricerche all'interno del social media per identificare gli hashtag utilizzati da giornalisti, redazioni giornalistiche per poter parlare in maniera neutrale delle elezioni regionali in Sicilia.
Una volta identificati attraverso una ricerca manuale sulla rete è stato utilizzato un framework online per ricercare le loro eventuali correlazioni con altri:
\begin{itemize}
\item \textbf{hashtagify} (vedi fig:\ref{Hashtagify}):consente di ricercare degli hashtag attraverso una barra di ricerca. Una volta terminata, verranno illustrati all'interno di una interfaccia grafica alcuni risultati quali: gli hashtag correlati, la popolarità nel tempo, i maggiori \textit{influencer}.
Attraverso questo servizio è stato possibile identificare altri hashtag generici utilizzati per arricchire la lista degli hashtag sopra elencati.
\begin{figure}[!htb]
    \begin{center}
      \includegraphics[scale= 0.5]{hashtagify.png}
	%\psfig{file=./pictures/logo}
	\caption{Hashtagify}
	\label{Hashtagify}
    \end{center}
  \end{figure}
  
\end{itemize}
Ricercare la neutralità attraverso gli hashtag è molto importante, sopratutto in un contesto politico, perché molti partiti o rappresentati politici utilizzano questi strumenti per diffondere le loro opinioni, quindi utilizzare quelle parole chiave come elementi per la raccolta dati non avrebbe permesso di avere uno studio imparziale sul topic.
Per fare un esempio basta considerare che il partito del candidato \textit{Musumeci} si chiamava: \textit{\#Diventerà bellissima - Per la Sicilia}.
Un altro esempio può essere l'hashtag lanciato dal Movimento 5 Stelle: \textit{\#SceglieteIlFuturo}; utilizzato per incoraggiare gli elettori a votare per il loro candidato \textit{Cancelleri}.
In conclusione per evitare argomenti fortemente polarizzati in un unico senso, i test e quindi la raccolta dati sono stati effettuati attraverso una lista di parole chiave che descrivessero il contenuto senza esprimere una opinione di partenza.

Una volta che i dati sono stati raccolti attraverso la ricerca per hashtag, è stata effettuata una prima operazione di catalogo attraverso la \textit{Sentiment Analysis} (vedi sezione:\ref{Sentiment}). Attraverso questa operazione verranno classificati i tweet in 3 gruppi distinti, di cui soltanto per 2 di loro verrà calcolata la polarizzazione.
Nel dettaglio i gruppi in questione sono stati classificati attraverso 3 \textit{label}, utilizzati dalla sentiment analysis per catalogare il testo, analizzando il loro contenuto:
\begin{itemize}
\item \textbf{ForzaItalia} identifica tutti i tweet e retweet relativi alla coalizione del centro-destra.
\item \textbf{5Stelle} identifica tutti i tweet e retweet relativi al Movimento 5 Stelle.
\item \textbf{Altri} identifica tutti i tweet e retweet relativi alle restanti coalizioni, informazioni giornalistiche oppure altri tweet che non avevano alcun interesse con l'analisi in questione.
\end{itemize}

Si è scelto di calcolare la polarizzazione solo per le due forze politiche che hanno dominato la scena politica siciliana: la coalizione del centro destra  ed il Movimento 5 Stelle. Il centro-destra rappresenta un'insieme di partiti, si è deciso di raggrupparle i un'unica coalizione, mentre l'altra forza politica in gioco, ovvero il Movimento 5 Stelle, rappresenta un unico partito politico.
La sentiment analysis utilizza un training set per catalogare le informazioni in base al sentimento che esprimono i tweet pubblicati dagli utenti. Per questo motivo è stata fatta una operazione di raccolta e catalogo di diversi tweet di esempio per consentire alla macchina di poter comprendere a quale gruppo associare il tweet che avrebbe analizzato.
Qui di seguito mostriamo una tabella contenente 3 tweet di esempio per ogni label per meglio rendere l'idea.
\begin{table}

\begin{tabular}{ |p{3cm}|p{10cm}| }
 \hline
 \multicolumn{2}{|c|}{\textbf{Training set}} \\
 \hline 
 \begin{center}
 \textbf{Label}
 \end{center} & \begin{center}
 \textbf{Tweet}
 \end{center}\\
 \hline
 5stelle   & Chi ama la sua terra non può che votare il \#M5S \#Regionali \#Sicilia  \\ \hline
 5stelle & A disposizione del \#MoVimento5Stelle per cambiare la nostra fantastica \#Sicilia! Contattatemi \#regionaliSicilia \#m5s\\ \hline
 5stelle & \#Regionalisicilia2017 con la vittoria del \#M5S i partiti capiranno tutto il potere che ha un popolo unito! \\ \hline
 ForzaItalia &   Con elezioni $ @matteosalvinimi$ e $@Musumeci\_Staff$ regionali 2017 in \#Sicilia !!\#elezioniregionali2017 \#andiamoagovernare \#forzalega  \\ \hline
 ForzaItalia & Regionali Sicilia  Berlusconi a Palermo: "No a M5s chi li vota non ragiona" \\ \hline
 ForzaItalia & 'Siamo qui a \#Palermo per vincere con $@Musumeci_Staff$ , \#M5s non hanno arte né parte \#regionalisicilia \\ \hline
Altri & Tutti gli schieramenti alle \#elezioniregionali in Sicilia.L'articolo di Pierangelo Bonanno \\ \hline
Altri & \#Londra ricevo questa card per gli \#emigrati : è valida solo per i \#treni in \#Italia . E le migliaia di \#Siciliani all' \#estero ? \#elesicilia \\ \hline
Altri & \#cambiamoabitudini Basta! Adesso si agisce.Il \#5novembre \#iovoto \#siciliafutura \#micaripresidente \#elesicilia\\
 \hline
\end{tabular}
\caption{Esempi di tweet del Training Set}
 \label{trainingSetExample}
\end{table}

Una volta partizionato i dati, l'endorsement graph relativo alle elezioni siciliane  è stato popolato. Questo grafo è cresciuto nel tempo, cioè via via che venivano raccolti i tweet ed i relativi retweet durante la raccolta dati effettuata mese per mese. I tweet isolati cioè quelle informazioni, con espressione di idee, che non sono state ripubblicate dagli altri utenti della rete sono stati scartati, ma presi in riesame nel caso in cui nei mesi successivi ci fosse stato qualche utente che avesse retweettato quelle notizie.
Per meglio rendere l'idea in questione illustriamo una tabella (vedi tabelle: \ref{Noditotali}) contente i dati raccolti nei diversi mesi, e quelli effettivamente utilizzati per il calcolo della polarizzazione.
\begin{table}

\begin{tabular}{ |p{1.75cm}|p{2cm}|p{2cm}|p{2.5cm}|p{2cm}|p{2cm}| }
 \hline
 
 \begin{center}
 \textbf{}
 \end{center} & \begin{center}
 \textbf{Settembre}
 \end{center}& \begin{center}
 \textbf{Ottobre}
 \end{center} &\begin{center}
 \textbf{5 Novembre}
 \end{center} &\begin{center}
 \textbf{Novembre}
 \end{center} &\begin{center}
 \textbf{Dicembre}
 \end{center} \\
 \hline
 Utilizzati &350 & 968 & 2145 &5183 &5270  \\ \hline
 Totali &464 & 1158 & 2631 &6779 & 6876  \\ 
 \hline
\end{tabular}
\caption{Numero di nodi del grafo}
 \label{Noditotali}
\end{table}
Per quanto riguarda la colorazione del grafo i colori di riferimento delle due partizioni sono: \textcolor{blue}{\textbf{Blu}} per la coalizione del centro-destra; \textcolor{red}{\textbf{Rosso}} per il Movimento 5 Stelle.
Essendo la polarizzazione un'assegnazione di un valore all'interno di un range tra $[-1,+1]$, i valori di riferimento per i nodi \textit{Blu} sono definiti nel range $(0,+1]$ mentre per i nodi \textit{Rossi} in $[-1,0)$.
Per meglio contraddistinguere quegli utenti che hanno mantenuto uno schieramento neutrale, quindi quei nodi del grafo avente polarizzazione esattamente pari a 0, si è deciso di assegnare loro il colore \textbf{Grigio}.
%Inserire i 5 grafi colorati senza i label della polarizzazione, con i relativi commenti.
Mostriamo i grafi ottenuti durante la raccolta dei dati durante il periodo di tempo sopra indicato. Nel dettaglio la colorazione è stata modificata in base al valore ottenuto durante la polarizzazione, quindi con i nodi colorati di \textit{rosso}, \textit{blu} e grigio.
I risultati mostrati (vedi fig:\ref{grafoTopologia}) illustrano la popolazione del grafo attraverso il calcolo della polarizzazione attraverso l'algoritmo basato sulla topologia. I risultati sono cumulativi e mostrano il cambiamento del grafo nel tempo. Ogni grafo mostra risultati cumulativi; cioè ogni mese contiene anche i dati  raccolti nel periodo ad esso precedente. Le immagini successive (vedi fig:\ref{grafoGrado}), mostrano le medesime considerazioni, soltanto che è stato applicato un algoritmo differente per il calcolo della polarizzazione.

\begin{figure}[!htbp]
\centering
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/RandomWalk/SettembreRandomWalk.png}
\caption{Settembre}
\label{Passo0}
\end{minipage}%
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/RandomWalk/OttobreRandomWalk.png}
\caption{Ottobre}
\label{Passo1}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/RandomWalk/5NovembreRw.png}
\caption{5Novembre}
\label{Passo2}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/RandomWalk/NovembreRandomWalk.png}
\caption{Novembre}
\label{Passo3}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/RandomWalk/DicembreRandomWalk.png}
\caption{Dicembre}
\label{Passo3}
\end{minipage}
\caption{Popolazione del grafo attraverso l'algoritmo basato sulla topologia}\label{grafoTopologia}
\end{figure}


\begin{figure}[!htbp]
\centering
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/Venezuela/SettembreVenezuela.png}
\caption{Settembre}
\label{Passo0}
\end{minipage}%
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/Venezuela/OttobreVenezuela.png}
\caption{Ottobre}
\label{Passo1}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/Venezuela/5NovembreVenezuela.png}
\caption{5Novembre}
\label{Passo2}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/Venezuela/NovembreVenezuela.png}
\caption{Novembre}
\label{Passo3}
\end{minipage}
\hspace{10mm}%
\begin{minipage}[c]{.40\textwidth}
\centering\setlength{\captionmargin}{0pt}%
\includegraphics[scale= 0.4]{/Image/Venezuela/DicembreVenezuela.png}
\caption{Dicembre}
\label{Passo3}
\end{minipage}
\caption{Popolazione del grafo attraverso l'algoritmo basato sul grado del nodo}\label{grafoGrado}
\end{figure}


\newpage
Il calcolo della polarizzazione è stato effettuato con i due algoritmi presentati in precedenza (vedi sezione:\ref{Polarizzazione}), per meglio comprendere i risultati ottenuti sono stati fatti dei grafici che mostrano l'andamento della polarizzazione nel tempo. 
Dopo aver analizzato i grafici si è dimostrato come la \textit{polarizzazione basata sulla topologia} fosse più accurata di quella \textit{basata sul grado del nodo}. La motivazione per cui si verifica questa situazione è dettata dalla \textit{probabilità di retweet}, cioè il valore che è stato assegnato ad ogni arco del grafo in base alle preferenze degli utenti; cioè dal numero di volte che un utente ripubblicava le notizie di un altro utente.
Per riscontrare in maniera visiva il comportamento di questa informazione basterà confrontare i due diagrammi mostrati.
\begin{figure}[!ht]
\centering
\includegraphics[scale= 0.4]{/Image/RandomWalk/DiagrammiRW/Dicembre.png}
\caption{Risultati Dicembre algoritmo basato sulla topologia}
\end{figure}
\begin{figure}[!ht]
\centering
\includegraphics[scale= 0.35]{/Image/Venezuela/Venezuela/Diagrammi/Dicembre.png}
\caption{Risultati Dicembre algoritmo basato sul grado del nodo}
\end{figure}

Il risultati più interessanti sono stati ottenuti durante la raccolta dati nel mese di Novembre, il giorno 5 Novembre ci sono state le elezioni in Sicilia. Nel grafico (vedi fig:\ref{NovembrevsNovembre}) sono stati confrontati i risultati ottenuti da Settembre fino a Novembre e quelli ottenuti da Settembre fino al 5 Novembre. Risulta evidente come i dati raccolti prima delle elezioni, mostrino che le opinioni a favore del Movimento 5 Stelle fossero molto simile a quelle espresse dalla coalizione del centro destra. Questo risultato è conforme agli exit-pool espressi poco prima delle elezioni fatti dalla \textit{Rai}, i quali predicevano una lotta serrata tra il candidato \textit{Cancelleri}\footnote{Il candidato presidente della regione Sicilia per il Movimento 5 Stelle} e il candidato \textit{Musumeci}\footnote{Il candidato presidente della regione Sicilia per la coalizione del centro destra}.
I risultati delle elezioni mostrano un capovolgimento di fronte cioè la vittoria della coalizione del centro-destra a discapito di quella dei 5 Stelle. Un'altra importante considerazione che possiamo fare alla luce dei test effettuati all'interno di questo topic è i cambiamento di trend nel tempo. Avendo raccolto dati per un periodo molto lungo si è potuto assistere all'evoluzione del trend della polarizzazione ottenendo un capovolgimento di fronte; infatti mentre nei mesi di Settembre ed Ottobre la rete era maggiormente influenzata dalle opinioni del Movimento 5 Stelle, a Novembre abbiamo ottenuto un considerevole capovolgimento in conformità con quanto avvenuto nella realtà.
A fini didattici si è deciso di analizzare il comportamento della rete anche nel mese di Dicembre per verificare se la rete cambiasse il proprio comportamento e quindi la propria polarizzazione; come indicato nella tabella \ref{Noditotali}, i nodi raccolti tra il mese di Novembre e di Dicembre era di 87 nuovi tweet e/o retweet, notando che il comportamento della polarizzazione non era cambiato e che ormai il topic in questione non era più considerato appetibile.
\begin{figure}[!ht]
\centering
\includegraphics[scale= 0.4]{/Image/RandomWalk/DiagrammiRW/Novembre5Novembre.png}
\caption{Risultati Novembre}
\label{NovembrevsNovembre}
\end{figure}

Durante lo sviluppo della tesi, analizzando i dati ottenuti, si è deciso di realizzare un principio di predizione della polarizzazione in mesi successivi utilizzando i dati calcolati nei periodi precedenti. Il motivo di tale scelta è dettata dalla necessità di poter intuire il comportamento della rete, quindi capire come saranno partizionate le opinioni degli utente, nel futuro. Le tecniche utilizzate per la la predizione sono state illustrate all'interno della sezione: \ref{Predizione}.
Durante la fase di test di queste tecniche di predizione, sono state fatte alcune considerazioni:
\begin{itemize}
\item In caso di una singola osservazione, per predire il futuro, non è possibile applicare tale algoritmo per cui si è scelto di restituire come valore il valore della precedente  osservazione.
\item Il numero minimo di osservazioni per effettuare il calcolo con questo algoritmo deve essere pari a 2.
\end{itemize}
Una volta ottenuti i risultati si è calcolato l'errore medio e la relativa varianza in base ai risultati conseguiti nel calcolo della polarizzazione attraverso i due algoritmi implementati. Di seguito mostriamo i risultati conseguiti attraverso un diagramma (vedi fig:\ref{predizioneSicilia1})
\begin{figure}[!ht]
\centering
\includegraphics[scale= 0.4]{ErroreSicilia.png}
\caption{Errore medio predizione}
\label{predizioneSicilia1}
\end{figure}
\begin{figure}[!ht]
\centering
\includegraphics[scale= 0.4]{VarianzaErrSicilia.png}
\caption{Varianza tasso di errore predizione}
\label{predizioneSicilia1}
\end{figure}

\newpage
\section{Biotestamento}